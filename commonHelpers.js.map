{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(request) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '42637407-5960a3c72fe4db0c907723fc7';\n\n    return fetch(`${BASE_URL}/?key=${KEY}&q=${request}&image_type=photo&orientation=horizontal&safesearch=true`).then(resp => {\n        if (!resp.ok) {\n            throw new Error('Sorry, there are no images matching your search query. Please try again!')\n        }\n        return resp.json();\n    });\n    \n}","// import iziToast from \"izitoast\";\n// import \"izitoast/dist/css/iziToast.min.css\";\n\n\nexport function createMarkup(obj) {\n    \n        const markup = obj.hits.map(({ webformatURL: smallImg, largeImageURL: largeImg, tags, likes, views, comments, downloads }) =>\n        `<li class=\"js-list-item\"\n        <a class=\"js-list-link\" href=${largeImg} >\n\t      <img \n\t\t  class=\"js-list-image\" \n\t\t  src=${smallImg} \n\t\t  alt=${tags} \n\t\t  />\n        </a>\n        <div class=\"js-info\">\n        <p class=\"js-info-item\">Likes<span>${likes}</span></p>\n        <p class=\"js-info-item\">Views<span>${views}</span></p>\n        <p class=\"js-info-item\">Comments<span>${comments}</span></p>\n        <p class=\"js-info-item\">Downloads<span>${downloads}</span></p>\n        </div>\n        </li>`);\n\n        return markup.join('');\n    }    \n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { getImages } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector('.search-form');\nconst loaderSpan = document.querySelector('.loader');\nconst list = document.querySelector('.js-list');\n\n\nconst lightbox = new SimpleLightbox('.js-list-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\n\nfunction onSearch(event) {\n    event.preventDefault();\n    const inputValue = event.target.elements.field.value;\n    loaderSpan.classList.remove('hidden');\n\n    if (inputValue.trim() === \"\") {\n        loaderSpan.classList.add('hidden');\n        iziToast.error({\n            title: 'Error',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: '#ef4040',\n            titleColor: '#fff',\n        })\n    } else {\n        getImages(inputValue).then(data => {\n            loaderSpan.classList.add('hidden');\n            if (data.hits.length !== 0) {\n                list.innerHTML = createMarkup(data);\n                lightbox.refresh();        \n            } else {\n                list.innerHTML = \"\";\n                iziToast.error({\n            title: 'Error',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: '#ef4040',\n            titleColor: '#fff',\n            })                \n            }\n           form.reset();\n        }).catch(error => {\n            console.log(error);\n            })\n    }\n}   \n\nform.addEventListener('submit', onSearch);\n\n\n\n\n\n\n\n"],"names":["getImages","request","resp","createMarkup","obj","smallImg","largeImg","tags","likes","views","comments","downloads","form","loaderSpan","list","lightbox","SimpleLightbox","onSearch","event","inputValue","iziToast","data","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAS,CAI/B,OAAO,MAAM,sEAA6BA,CAAO,0DAA0D,EAAE,KAAKC,GAAQ,CACtH,GAAI,CAACA,EAAK,GACN,MAAM,IAAI,MAAM,0EAA0E,EAE9F,OAAOA,EAAK,MACpB,CAAK,CAEL,CCPO,SAASC,EAAaC,EAAK,CAmB1B,OAjBeA,EAAI,KAAK,IAAI,CAAC,CAAE,aAAcC,EAAU,cAAeC,EAAU,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACzH;AAAA,uCAC+BL,CAAQ;AAAA;AAAA;AAAA,UAGrCD,CAAQ;AAAA,UACRE,CAAI;AAAA;AAAA;AAAA;AAAA,6CAI+BC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA,cAE5C,EAEQ,KAAK,EAAE,CAC7B,CCjBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAO,SAAS,cAAc,UAAU,EAGxCC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAClB,CAAC,EAGD,SAASC,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAC/CL,EAAW,UAAU,OAAO,QAAQ,EAEhCM,EAAW,KAAM,IAAK,IACtBN,EAAW,UAAU,IAAI,QAAQ,EACjCO,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,gBAAiB,UACjB,WAAY,MACxB,CAAS,GAEDpB,EAAUmB,CAAU,EAAE,KAAKE,GAAQ,CAC/BR,EAAW,UAAU,IAAI,QAAQ,EAC7BQ,EAAK,KAAK,SAAW,GACrBP,EAAK,UAAYX,EAAakB,CAAI,EAClCN,EAAS,QAAO,IAEhBD,EAAK,UAAY,GACjBM,EAAS,MAAM,CACnB,MAAO,QACP,QAAS,2EACT,gBAAiB,UACjB,WAAY,MACxB,CAAa,GAEFR,EAAK,MAAK,CACrB,CAAS,EAAE,MAAMU,GAAS,CACd,QAAQ,IAAIA,CAAK,CAC7B,CAAa,CAEb,CAEAV,EAAK,iBAAiB,SAAUK,CAAQ"}